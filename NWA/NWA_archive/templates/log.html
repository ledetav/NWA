{% extends "base.html" %}
{% load static %}

{% block title %}Лог Дарителей Тепла{% endblock %}

{% block page_content %}
<div class="log-page">
    <div class="log-page__filter">
        <h2 class="filter__title">Фильтры</h2>
        <div class="filter__group">
            <label class="filter__label" for="type-work-select">Выберите тип работы:</label>
            <select class="filter__select" id="type-work-select" name="type-work">
                <option value="all">Все типы</option>
                <option value="art">Арт</option>
                <option value="text">Текст</option>
                <option value="code">Код</option>
            </select>
        </div>
        <div class="filter__action">
            <button type="button" class="button button--neumorphic filter__button">Фильтровать</button>
        </div>

        <form method="get">
            <div class="filter__group">
                <label class="filter__label" for="celebrant-name-input">Введите имя именинника:</label>
                <input type="text" class="filter__input" id="celebrant-name-input" name="celebrant_name" value="{{ celebrant_name|default:'' }}">
            </div>
            <div class="filter__action">
                <button type="submit" class="button button--neumorphic filter__button">Найти</button>
            </div>
        </form>
    </div>

    <div class="log-page__table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Именинник</th>
                    <th>Дата</th>
                    <th>Тип работы</th>
                    <th>Даритель</th>
                    <th>Дата публикации</th>
                </tr>
            </thead>
            <tbody>
                {% for row in blogs %}
                <tr>
                    <td>{{ row.celebrant_name }}</td>
                    <td>{{ row.birthday_date }}</td>
                    <td>{{ row.work_type }}</td>
                    <td>{{ row.nw_name }}</td>
                    <td>{{ row.work_date }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock page_content %}